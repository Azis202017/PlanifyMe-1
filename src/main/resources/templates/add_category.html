<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
      integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/fontawesome-6-pro@6.4.0/css/all.min.css"
    />
    <title>Planifyme</title>
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/dashboard.css" />
    <link rel="stylesheet" href="/css/create_category.css" />
    <link rel="stylesheet" href="/css/sidebar.css" />
  </head>
  <body>
    <section id="background-top"></section>
    <section id="content">
      <div class="row">
        <!-- Sidebar kiri -->
        <div class="col-lg-3">
          <h1 class="logo">PlanifyMe</h1>
          <div class="sidebar">
            <div>
              <a href="/dashboard" class="hover-link">
                <div class="d-flex">
                  <i class="fa-thin fa-grid-2 sidebar-icon"></i>
                  <p class="active-text">Dashboard</p>
                </div>
              </a>

              <a href="/task" class="hover-link">
                <div class="d-flex">
                  <i
                    class="fa-thin fa-envelope-open sidebar-icon-nonactive"
                  ></i>

                  <p class="sidebar-text">Task</p>
                </div>
              </a>

              <a href="/reminder" class="hover-link">
                <div class="d-flex">
                  <i class="fa-thin fa-bell sidebar-icon-nonactive"></i>

                  <p class="sidebar-text reminder">Reminder</p>
                </div>
              </a>

              <a href="/settings" class="hover-link">
                <div class="d-flex">
                  <i class="fa-thin fa-gear sidebar-icon-nonactive"></i>

                  <p class="sidebar-text">Settings</p>
                </div>
              </a>
            </div>

            <a href="register.html" class="hover-link">
              <div class="d-flex logout">
                <i
                  class="fa-thin fa-right-from-bracket sidebar-icon-nonactive"
                ></i>

                <p class="sidebar-text">Logout</p>
              </div>
            </a>
          </div>
        </div>

        <!-- End Sidebar kiri -->

        <!-- Tengah -->
        <div class="col-lg-6">
          <div th:if="${param.success}">
            <div class="alert alert-info">Berhasil</div>
          </div>
          <section id="back-section">
            <a href="/dashboard" class="back-link">
              <div class="d-flex">
                <i class="fa-thin fa-angle-left icon-arrow-back"></i>
                <p class="back-text">Back</p>
              </div>
            </a>
          </section>

          <section class="create-category">


            <div class="category-pict" data-toggle="modal" data-target="#exampleModalCenter">
              <img th:src="${selectedImage}" alt="choose image" />
            </div>

            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Choose category icon</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <form th:action="@{/dashboard/addcategory}" method="post">
                  <div class="image-picker">
                    <input type="radio" id="image1" name="selectedImage" value="/images/relax.png"/>
                    <label for="image1">
                      <img src="/images/relax.png" alt="Image 1"  />
                    </label>

                    <input type="radio" id="image2" name="selectedImage" value="/images/college.png"/>
                    <label for="image2">
                      <img src="/images/college.png" alt="Image 2" />
                    </label>

                    <input type="radio" id="image3" name="selectedImage" value="/images/chores.png" />
                    <label for="image3">
                      <img src="/images/chores.png" alt="Image 3" />
                    </label>

                    <input type="radio" id="image4" name="selectedImage" value="/images/part-time.png" />
                    <label for="image4">
                      <img src="/images/part-time.png" alt="Image 4" />
                    </label>

                  </div>

                  <!-- Display selected image -->
                  <div class="selected-image" >
                    <img id="selectedImage" src="" alt="Selected Image" />
                  </div>

                  <div class="modal-footer">

                    <button type="submit" class="btn btn-primary">Save</button>
                  </div>
                  </form>
                </div>
              </div>
            </div>

            <form th:action="@{/dashboard/addcategory/save}" method="post">
            <!-- input -->
            <div class="new-category-form">
              <div class="first-row">
                <div class="col-lg-12">
                  <input
                    class="form-control form-control-lg"
                    type="text"
                    name="nama"
                    placeholder="Title..."
                  />
                </div>
                <div>
                  <input
                    type="color"
                    class="form-control form-control-color"
                    name="color"
                    title="Choose your color"
                  />
                </div>
              </div>

              <div class="col-lg-11">
                <div class="mb-3">
                  <textarea
                    class="form-control"
                    id="exampleFormControlTextarea1"
                    rows="3"
                    type="text"
                    name="deskripsi"
                    placeholder="Description..."
                  ></textarea>
                </div>
              </div>
              <div class="d-flex justify-content-center">
                <button type="submit" class="btn button btn-dark custom-btn">
                  Save
                </button>
              </div>
            </div>
            </form>
          </section>
        </div>

        <!-- End Tengah -->

        <!-- Sidebar Kanan -->
        <div class="col-lg-3">
          <div class="profile-section">
            <img src="/images/profile.png" class="profile-img" alt="" />

            <p class="text-center profile-name" th:text="${user.namaLengkap}">namaLengkap</p>
          </div>
          <div class="sidebar-right">
            <div class="d-flex align-items-center flex-column">
              <h3 class="progress-angka">0</h3>
              <p class="progress-title">overall progress</p>
            </div>
            <div class="progress">
              <div
                class="progress-bar custom-progress-bar"
                role="progressbar"
                style="width: 0%"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <h1 class="title-for-task">Today's Task</h1>
            <p class="text-empty-task">You have no task today</p>
          </div>
        </div>
        <!-- End Sidebar kanan -->
      </div>
    </section>

    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
      crossorigin="anonymous"
    ></script>
    <script>
      window.addEventListener("scroll", function () {
        var scrollPosition = window.scrollY;

        var logo = document.querySelector(".logo");
        var profileName = document.querySelector(".profile-name");

        if (scrollPosition > 200) {
          logo.classList.add("scrolled");
        } else {
          logo.classList.remove("scrolled");
        }

        if (scrollPosition > 120) {
          profileName.classList.add("scrolled");
        } else {
          profileName.classList.remove("scrolled");
        }
      });
    </script>
  </body>
</html>
